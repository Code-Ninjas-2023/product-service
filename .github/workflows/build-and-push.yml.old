#name: Develop, on PUSH Java CI/CD of api-gateway-ecommerce-boot, ecommerce-microservice-backend app
#
#on:
#  push:
#    branches: [ "main" ]
#  pull_request:
#    branches: [ "main" ]
#
#jobs:
#  build_push:
#    #needs: build
#    runs-on: ubuntu-latest
#    steps:
#      - uses: actions/checkout@v2
#      - name: Set up JDK 17
#        uses: actions/setup-java@v2
#        with:
#          java-version: '17'
#          distribution: 'adopt'
#      - name: Build with Maven
#        run: mvn -B package --file pom.xml
#      - name: Setup env variables for Docker
#        run: echo Setup env variables for Docker
#        env:
#          DOCKER_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}
#          DOCKER_PASSWORD: ${{ secrets.DOCKERHUB_PASSWORD }}
#      - name: Docker Login
#        run: echo ${{ secrets.DOCKER_PASSWORD }} | docker login -u ${{ secrets.DOCKER_USERNAME }} --password-stdin
#      - name: Build Docker image for product-service
#        run: docker build -f product-service/Dockerfile -t ${{ secrets.DOCKER_USERNAME }}/product-service:${{ secrets.PROJECT_VERSION }}dev .
#      - name: Push api-gateway-ecommerce-boot image
#        run: docker push ${{ secrets.DOCKER_USERNAME }}/api-gateway-ecommerce-boot:${{ secrets.PROJECT_VERSION }}dev